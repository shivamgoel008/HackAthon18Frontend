{"ast":null,"code":"var _jsxFileName = \"/Users/shivam/Development/VS Code/HackAthon18Frontend/src/component/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { checkValidate } from '../Utils/validate';\nimport Header from './Header';\nimport Cookies from \"js-cookie\";\nimport { login, register } from \"../services/loginService\";\nimport { APPLICATION_NAME } from \"../Utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [isSignInForm, setSignInForm] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const toggleSignInForm = () => {\n    setSignInForm(!isSignInForm);\n  };\n  const handleButtonClick = async () => {\n    var _email$current, _password$current, _name$current;\n    const message = checkValidate((_email$current = email.current) === null || _email$current === void 0 ? void 0 : _email$current.value, (_password$current = password.current) === null || _password$current === void 0 ? void 0 : _password$current.value, (_name$current = name.current) === null || _name$current === void 0 ? void 0 : _name$current.value, isSignInForm);\n    setErrorMessage(message);\n    if (message !== \"\") return;\n    if (isSignInForm) {\n      try {\n        var _email$current2, _password$current2;\n        const data = await login((_email$current2 = email.current) === null || _email$current2 === void 0 ? void 0 : _email$current2.value, (_password$current2 = password.current) === null || _password$current2 === void 0 ? void 0 : _password$current2.value);\n        console.log(data);\n        Cookies.set(\"jwtToken\", data.access_token, {\n          secure: true,\n          httpOnly: false\n        });\n        navigate(\"/chat\");\n      } catch (error) {\n        console.error('Error making POST request', error);\n        setErrorMessage(\"Try Again With Correct username and password\");\n      }\n    } else {\n      // Sign-up logic\n      try {\n        var _email$current3, _password$current3;\n        await register((_email$current3 = email.current) === null || _email$current3 === void 0 ? void 0 : _email$current3.value, (_password$current3 = password.current) === null || _password$current3 === void 0 ? void 0 : _password$current3.value);\n        toggleSignInForm();\n      } catch (error) {\n        setErrorMessage(\"Please try again after some time\");\n        console.error('Error making POST request', error);\n      }\n    }\n  };\n  const email = useRef(null);\n  const password = useRef(null);\n  const name = useRef(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      className: \"w-3/12 absolute p-12 my-48 mx-auto right-0 left-0 rounded-lg bg-opacity-75 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font-bold text-black text-3xl py-4\",\n        children: isSignInForm ? \"Sign In\" : \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), !isSignInForm && /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: name,\n        type: \"text\",\n        placeholder: \"Full Name\",\n        className: \"p-4 my-4 w-full rounded-lg text-black outline outline-black\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: email,\n        type: \"text\",\n        placeholder: \"Email Address\",\n        className: \"p-4 my-4 w-full outline outline-black rounded-lg text-black\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: password,\n        type: \"password\",\n        placeholder: \"Password\",\n        className: \"p-4 my-4 w-full rounded-lg text-black outline outline-black\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"p-4 my-4 bg-button-green w-full rounded-lg text-white\",\n        onClick: handleButtonClick,\n        children: isSignInForm ? \"Sign In\" : \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"py-4 cursor-pointer text-black\",\n        onClick: toggleSignInForm,\n        children: isSignInForm ? `New to ${APPLICATION_NAME}? Sign Up Now` : \"Already registered? Sign In Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"WZkYj5T/UOcRqy8ovOHp+/WhkBA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","checkValidate","Header","Cookies","login","register","APPLICATION_NAME","jsxDEV","_jsxDEV","Login","_s","navigate","isSignInForm","setSignInForm","errorMessage","setErrorMessage","toggleSignInForm","handleButtonClick","_email$current","_password$current","_name$current","message","email","current","value","password","name","_email$current2","_password$current2","data","console","log","set","access_token","secure","httpOnly","error","_email$current3","_password$current3","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","preventDefault","ref","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/shivam/Development/VS Code/HackAthon18Frontend/src/component/Login.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { checkValidate } from '../Utils/validate';\nimport Header from './Header';\nimport Cookies from \"js-cookie\";\nimport { login, register } from \"../services/loginService\";\nimport { APPLICATION_NAME } from \"../Utils/constants\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [isSignInForm, setSignInForm] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const toggleSignInForm = () => {\n    setSignInForm(!isSignInForm);\n  };\n\n  const handleButtonClick = async () => {\n    const message = checkValidate(\n      email.current?.value,\n      password.current?.value,\n      name.current?.value,\n      isSignInForm\n    );\n\n    setErrorMessage(message);\n\n    if (message !== \"\") return;\n\n    if (isSignInForm) {\n      try {\n        const data = await login(email.current?.value, password.current?.value);\n        console.log(data);\n        Cookies.set(\"jwtToken\", data.access_token, { secure: true, httpOnly: false });\n        navigate(\"/chat\");\n      } catch (error) {\n        console.error('Error making POST request', error);\n        setErrorMessage(\"Try Again With Correct username and password\");\n      }\n    } else {\n      // Sign-up logic\n      try {\n        await register(email.current?.value, password.current?.value);\n        toggleSignInForm();\n      } catch (error) {\n        setErrorMessage(\"Please try again after some time\");\n        console.error('Error making POST request', error);\n      }\n    }\n  };\n\n  const email = useRef(null);\n  const password = useRef(null);\n  const name = useRef(null);\n\n  return (\n    <div className=\"\">\n      <Header />\n      <form\n        onSubmit={(e) => e.preventDefault()}\n        className=\"w-3/12 absolute p-12 my-48 mx-auto right-0 left-0 rounded-lg bg-opacity-75 text-white\"\n      >\n        {/* Header Text */}\n        <h1 className=\"font-bold text-black text-3xl py-4\">\n          {isSignInForm ? \"Sign In\" : \"Sign Up\"}\n        </h1>\n\n        {/* Name Input for Sign-Up */}\n        {!isSignInForm && (\n          <input\n            ref={name}\n            type=\"text\"\n            placeholder=\"Full Name\"\n            className=\"p-4 my-4 w-full rounded-lg text-black outline outline-black\"\n          />\n        )}\n\n        {/* Email Input */}\n        <input\n          ref={email}\n          type=\"text\"\n          placeholder=\"Email Address\"\n          className=\"p-4 my-4 w-full outline outline-black rounded-lg text-black\"\n        />\n\n        {/* Password Input */}\n        <input\n          ref={password}\n          type=\"password\"\n          placeholder=\"Password\"\n          className=\"p-4 my-4 w-full rounded-lg text-black outline outline-black\"\n        />\n\n        {/* Error Message */}\n        <p className=\"text-red-500\">{errorMessage}</p>\n\n        {/* Submit Button */}\n        <button\n          className=\"p-4 my-4 bg-button-green w-full rounded-lg text-white\"\n          onClick={handleButtonClick}\n        >\n          {isSignInForm ? \"Sign In\" : \"Sign Up\"}\n        </button>\n\n        {/* Toggle Form Text */}\n        <p\n          className=\"py-4 cursor-pointer text-black\"\n          onClick={toggleSignInForm}\n        >\n          {isSignInForm\n            ? `New to ${APPLICATION_NAME}? Sign Up Now`\n            : \"Already registered? Sign In Now\"}\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}